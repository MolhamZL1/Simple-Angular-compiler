<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>OnlineShoping</title>
  <base href="/">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/x-icon" href="favicon.ico">
<style>:host .navbar { box-shadow: 0 2px 8px rgba(0,0,0,.06); }
:host .badge   { font-size: 0.75rem; }</style>
<style>.card img{
    height: 250px;
}</style>
<style></style>
</head>
<body>
  <section>
  <nav class="navbar navbar-light bg-light">
    <div class="container">
      <a class="navbar-brand" href="#">
        IMTHATH_IMT
      </a>

      <div class="d-flex justify-content-end mt-2 pointer">
       <div class="border rounded me-3 position-relative p-2" data-bs-toggle="modal" data-bs-target="#add-to-cart">
        ADD TO CART <i class="fa-solid fa-cart-shopping"></i>
        <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
          {{products.length}}
          <span class="visually-hidden">unread messages</span>
        </span>
       </div>
      </div>
    </div>
  </nav>

  <div class="mt-3">
    <section>
  <div class="container">
    <div class="row">
      <div class="col-12 col-sm-6 col-md-3 mt-3" *ngFor="let product of productItems">
        <div class="card shadow-lg">
          <div class="p-1 w-100">
            <img src={{product.images[0]}} class="object-fit-cover position-relative" alt="..." width="100%" height="250px">
            <span class="badge position-absolute"  [ngClass]="product.availableQty > 0 ? 'bg-success' : 'bg-danger'"
            [ngStyle]="{
              'right': product.availableQty > 0 ? '194px' : '170px',
              'top': '65px'
            }">
        {{ product.availableQty > 0 ? 'In Stock' : 'Out of Stock' }}
      </span>

          </div>
          <div class="card-body p-1">
            <div class="f-size-11 fw-bold">{{product.name}}</div>
            <div class="f-size-11 badge bg-info">price {{product.price}}$</div>
            <div class="d-flex mt-1 mb-1">
              <i class="fa-solid fa-star text-warning" *ngFor="let item of [].constructor(product.rating); let i = index"></i>
            </div>
            <!-- <div><i class="fa-solid fa-star text-warning"></i><i class="fa-solid fa-star text-warning"></i><i class="fa-solid fa-star text-warning"></i> <i class="fa-solid fa-star"></i> <i class="fa-solid fa-star"></i></div> -->
            <div class="f-size-8 mt-1">
             {{product.description[0]}}
            </div>
            <div class="d-flex justify-content-between mb-2">
              <button class="btn f-size-11 px-2 py-1 mt-2" [ngClass]="product.availableQty > 0 ? 'btn-primary' : 'btn-secondary'" [disabled]="product.availableQty < 1"  (click)="addToCart(product)">Add to cart</button>
              <div class="text-primary f-size-11 mt-auto me-2 pointer" data-bs-toggle="modal" data-bs-target="#staticBackdrop" (click)="selectedProduct = product">view more</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>


<div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-lg">
    <div class="modal-content">
      <div class="modal-header border-bottom-0">
        <h1 class="modal-title fs-5" id="staticBackdropLabel">{{selectedProduct.name}} Details</h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <div class="row m-0" *ngIf="product !== null">
  <div class="col-12">
    <div class="row">
      <div class="col-12">
        <div class="row">
          <!-- MAIN IMAGE  -->
          <div class="col-5">
            <img
              class="mt-2 product-main-img"
              class="object-fit-cover"
              src="{{ selectedImage }}"
              alt="product-images"
              width="300px"
              height="300px"
            />
            <div class="d-flex mb-3">
              <div class="mt-2 me-3" *ngFor="let image of product.images">
                <img
                  class="pointer object-fit-cover"
                  src="{{ image }}"
                  alt="{{ product.id }}"
                  width="50px"
                  height="75px"
                  (click)="selectedImage = image"
                />
              </div>
            </div>
          </div>
          <!-- PRICING AND DETAILS -->
          <div class="col-7">
            <div class="fs-5 fw-bold">{{ product.name }}</div>
            <div class="d-flex mt-1 mb-1">
              <i
                class="fa-solid fa-star text-warning"
                *ngFor="
                  let item of [].constructor(product.rating);
                  let i = index
                "
              ></i>
            </div>
            <div class="text-muted small mt-2">
              <div class="mt-1">Price</div>
              <div class="mt-1">${{ product.price }}</div>
            </div>
            <div class="mt-2">
              <span
                class="badge"
                [ngClass]="
                  product.availableQty > 0
                    ? 'text-bg-success'
                    : 'text-bg-danger'
                "
                >{{
                  product.availableQty > 0 ? "In stoke" : "out of stock"
                }}</span
              >
            </div>
            <div class="text-muted small mt-3">Description</div>
            <div class="bult-points text-muted small mt-2">
              <ul>
                <li>
                  This t-shirt features a beautifully crafted design that adds
                  an elegant touch to any wardrobe.
                </li>
                <li>
                  The soft, breathable fabric ensures all-day comfort, while the
                  classic fit flatters every body type.
                </li>
                <li>
                  Designed for versatility, it pairs perfectly with jeans,
                  shorts, or skirts.
                </li>
                <li>
                  Fully pre-shrunk for a perfect fitâ€”no worries about fading or
                  stretching!
                </li>
              </ul>
            </div>
            <!-- FILTER OPTION -->
            <div class="row">
              <div class="col-5">
                <small class="fw-bold text-muted"> Frame material</small>
                <ng-select
                  [items]="product.materials"
                  bindLabel="name"
                  bindValue="id"
                  [(ngModel)]="selectedMaterial"
                ></ng-select>
              </div>
              <div class="col-5">
                <small class="fw-bold text-muted"> color</small>
                <ng-select
                  [items]="product.colors"
                  bindLabel="name"
                  bindValue="id"
                  [(ngModel)]="selectedColor"
                ></ng-select>
              </div>
              <div class="col-2 p-0">
                <small class="fw-bold text-muted">Quantity</small>
                <input type="number" class="form-control" />
              </div>
            </div>
            <div class="mt-3">
              <button
                class="btn btn-primary"
                [ngClass]="
                  product.availableQty > 0 ? 'btn-primary' : 'btn-secondary'
                "
                [disabled]="product.availableQty < 1"
              >
                ADD TO CART
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

      </div>
    </div>
  </div>
</div>


































  </div>
</section>


<!-- modal -->
<div class="modal fade" id="add-to-cart" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-lg">
    <div class="modal-content">
      <div class="modal-header border-bottom-0">
        <h1 class="modal-title fs-5" id="staticBackdropLabel">Add To Cart Details</h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <div class="row" *ngIf="products.length > 0">
          <div class="col-12 mt-3 border shadow-md" *ngFor="let product of products">
            <div class="row">
              <div class="col-2 p-1">
                <img src={{product.images[0]}} class="object-fit-cover" alt="..." width="80px" height="80px">
               </div>
               <div class="col-3 text-center d-flex align-items-center justify-content-center">{{product.name}}</div>
               <div class="col-3 text-center d-flex align-items-center justify-content-center">Quantity
                 <div class="rounded-circle bg-danger text-white me-2 ms-2 px-2 pointer" (click)="changeQuantity(product.id,false)">-</div>
                   {{product.qty}}
                 <div class="rounded-circle bg-danger text-white ms-2 px-2 pointer" (click)="changeQuantity(product.id,true)">+</div>
               </div>
               <div class="col-1 d-flex align-items-center justify-content-center pointer" (click)="deleteProduct(product.id)">
                 <i class="fa-solid fa-trash text-danger fs-6"></i>
               </div>
               <div class="col-3 d-flex align-items-center justify-content-end ">
                 <button class="btn btn-block btn-primary h-50 px-2">
                  Total {{product.total}}$
                 </button>
               </div>
            </div>

            </div>
            <div class="d-flex justify-content-end mt-3">
              <button class="btn btn-danger">Checkout({{total}})</button>
            </div>
        </div>
        <div class="fs-3 text-center" *ngIf="products.length === 0">
          <img src="https://static.vecteezy.com/system/resources/thumbnails/008/515/488/small/empty-cart-flat-illustration-concept-vector.jpg">
          <div class="fs-4 text-muted">Empty</div>
          <button type="button" class="btn btn-primary mt-3 w-25" data-bs-dismiss="modal" aria-label="Close">Close</button>
        </div>
      </div>
    </div>
  </div>
</div>


</body>
</html>
